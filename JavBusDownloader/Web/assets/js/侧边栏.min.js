const nav=document.querySelector("nav"),navLinksContainer=document.querySelector(".nav-links"),navLinks=[...document.querySelectorAll(".link")],subMenuLinks=[...document.querySelectorAll(".link2")],menuBtn=document.querySelector(".menu-btn"),subMenuBtn=document.querySelector(".sub-menu-btn"),navbarpart=document.querySelector("#navbarpart"),main=document.querySelector("#main");function createHoverEl(){let e=document.createElement("div");e.className="hover-el",e.style.setProperty("--y","0px"),e.style.setProperty("--mousex","0px"),e.style.setProperty("--mousey","0px"),navLinksContainer.appendChild(e)}function closeSubmenu(){nav.classList.remove("nav-open"),menuBtn.classList.remove("close"),main.classList.remove("nodrag"),navbarpart.classList.remove("nodrag"),nav.classList.contains("sub-menu-open")&&(nav.classList.remove("sub-menu-open"),removeSubmenu())}function toggleSubmenu(e){let n=nav.querySelector(".sub-menu");if(e.children[1])createSubmenu(e);else{if(!nav.contains(n))return;removeSubmenu()}}function createSubmenu(e){let n=document.createElement("div");n.className="sub-menu";let t=e.children[1].cloneNode(!0),s=[...t.children];s.forEach(((e,n)=>{e.classList.add("off-menu"),e.style.setProperty("--delay",40*n+"ms")})),nav.classList.toggle("sub-menu-open"),nav.appendChild(n),n.appendChild(t),setTimeout((function(){s.forEach((e=>{e.classList.remove("off-menu"),e.classList.add("on-menu")}))}),200)}function removeSubmenu(){let e=nav.querySelector(".sub-menu"),n=[...e.children[0].children];nav.contains(e)&&(n.forEach((e=>{e.classList.add("off-menu"),e.classList.remove("on-menu")})),setTimeout((function(){nav.removeChild(e)}),500))}createHoverEl(),navLinks.forEach(((e,n)=>{let t=navLinksContainer.querySelector(".hover-el");e.style.setProperty("--delay",50*n+"ms"),e.addEventListener("mousemove",(function(e){t.style.setProperty("--y",60*n+"px"),t.style.setProperty("opacity","1"),t.style.setProperty("--mousex",e.pageX-t.offsetLeft+"px"),t.style.setProperty("--mousey",e.pageY-t.offsetTop+"px")})),navLinksContainer.addEventListener("mouseout",(function(){t.style.setProperty("opacity","0")})),e.addEventListener("click",(function(){navLinksContainer.querySelector(".hover-el").style.opacity="0",e.querySelector("ol")||(nav.classList.remove("nav-open"),menuBtn.classList.remove("close"),main.classList.remove("nodrag"),navbarpart.classList.remove("nodrag")),toggleSubmenu(e)}))})),menuBtn.addEventListener("click",(function(){if(main.classList.toggle("nodrag"),navbarpart.classList.toggle("nodrag"),nav.classList.toggle("nav-open"),menuBtn.classList.toggle("close"),!nav.classList.contains("nav-open")){nav.classList.remove("sub-menu-open");let e=nav.querySelector(".sub-menu");nav.contains(e)&&removeSubmenu()}})),subMenuBtn.addEventListener("click",(function(){nav.classList.toggle("sub-menu-open"),removeSubmenu()}));