"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function errorSound(){var e=document.createElement("audio");e.setAttribute("src","https://cdn.jsdelivr.net/gh/iGaoWei/Dream-Msg/lib/wav/tip.mp3"),e.setAttribute("autoplay","autoplay")}!function(e,n){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).Dreamer=n()}(void 0,(function(){var e=n({className:"dream-msg-stage"});function n(e,n){var t=document.createElement("div");for(var i in e){var o=e[i];"className"==i?(i="class",t.setAttribute(i,o)):"_"==i[0]&&t.addEventListener(i.slice(1),o)}if("string"==typeof n)t.innerHTML=n;else if("object"==_typeof(n)&&n.tagName)t.appendChild(n);else if(n)for(var r=0;r<n.length;r++){var s=n[r];t.appendChild(s)}return t}function t(e,n){for(var t in n)e.style[t]=n[t];""===e.getAttribute("style")&&e.removeAttribute("style")}function i(e,n){return e.indexOf(n)>-1}var o={msg:"",duration:2e3,showClose:!1},r={info:function(){s(arguments,"info")},success:function(){s(arguments,"success")},warning:function(){s(arguments,"warning")},error:function(){s(arguments,"error")},loading:function(){return s(arguments,"loading")},destroyAll:function(){!function(){for(var n=0;n<e.children.length;n++){c(e.children[n])}}()},config:function(e){for(var n in e)Object.hasOwnProperty.call(e,n)&&void 0!==e[n]&&(o[n]=e[n])}};function s(r,s){var f={};for(var l in o)f[l]=o[l];for(var d=0;d<r.length;d++){var m=r[d];void 0!==m&&("string"==typeof m||"object"==_typeof(m)?f.msg=m:"boolean"==typeof m?f.showClose=m:"function"==typeof m?f.onClose=m:"number"==typeof m&&(f.duration=m),1==m&&errorSound())}return f.type=s,function(o){var r=o.type,s=o.duration,f=o.msg,l=o.showClose,d=o.onClose,m=0===s,u={info:'<svg t="1624242937335" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17848" width=\'10\' height=\'10\'><path d="M847 733.1l-77.5-154.8c-0.8-1.7-1.3-3.5-1.3-5.4l-0.2-171.4c-0.1-96.7-65.6-178.1-154.5-202.4v-0.1c0-55.6-45.1-100.7-100.7-100.7-55.5 0-100.5 44.9-100.7 100.4C322.2 222.6 255.9 304.6 256 402l0.2 171.4c0 1.9-0.4 3.7-1.3 5.4l-77.4 154.6c-22.6 45.2 10.3 98.5 60.9 98.4l547.9-0.4c50.5 0.1 83.4-53.1 60.7-98.3zM421.5 860.8c-10.1 0-15.6 11.7-9.3 19.6 23.4 29.2 59.4 47.9 99.7 47.9 40.4 0 76.4-18.7 99.9-48 6.3-7.9 0.8-19.6-9.3-19.5h-181z" p-id="17849" fill="#ffffff"></path></svg>',success:'<svg t="1609781242911" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1807"><path d="M455.42 731.04c-8.85 0-17.75-3.05-24.99-9.27L235.14 553.91c-16.06-13.81-17.89-38.03-4.09-54.09 13.81-16.06 38.03-17.89 54.09-4.09l195.29 167.86c16.06 13.81 17.89 38.03 4.09 54.09-7.58 8.83-18.31 13.36-29.1 13.36z" p-id="1808" fill="#ffffff"></path><path d="M469.89 731.04c-8.51 0-17.07-2.82-24.18-8.6-16.43-13.37-18.92-37.53-5.55-53.96L734.1 307.11c13.37-16.44 37.53-18.92 53.96-5.55 16.43 13.37 18.92 37.53 5.55 53.96L499.67 716.89c-7.58 9.31-18.64 14.15-29.78 14.15z" p-id="1809" fill="#ffffff"></path></svg>\n    ',warning:'<svg t="1609776406944" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18912"><path d="M468.114286 621.714286c7.314286 21.942857 21.942857 36.571429 43.885714 36.571428s36.571429-14.628571 43.885714-36.571428L585.142857 219.428571c0-43.885714-36.571429-73.142857-73.142857-73.142857-43.885714 0-73.142857 36.571429-73.142857 80.457143l29.257143 394.971429zM512 731.428571c-43.885714 0-73.142857 29.257143-73.142857 73.142858s29.257143 73.142857 73.142857 73.142857 73.142857-29.257143 73.142857-73.142857-29.257143-73.142857-73.142857-73.142858z" p-id="18913" fill="#ffffff"></path></svg>\n    ',error:'<svg t="1609810716933" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5514"><path d="M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z" p-id="5515" fill="#ffffff"></path></svg>\n    ',loading:'<div class="dream-msg_loading">\n    <svg class="dream-msg-circular" viewBox="25 25 50 50">\n      <circle class="dream-msg-path" cx="50" cy="50" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"/>\n    </svg>\n    </div>\n    '};"loading"==r&&(f=""===f?"正在加载中，请稍等片刻...":f,m=l,s=0);var p=n({className:"dream-msg-wrapper"},[n({className:"dream-msg dream-msg-fade-in "+r},[n({className:"dream-msg-icon"},u[r]),n({className:"dream-msg-content"},f),n({className:"dream-msg-wait "+(m?"dream-msg-pointer":""),_click:function(){m&&c(p,d)}},a(m))])]),g=p.querySelector(".dream-msg__circle");g&&(t(g,{animation:"dream-msg_"+r+" "+s+"ms linear"}),"onanimationend"in window?function(e,n){["a","webkitA"].forEach((function(t){var i=t+"nimationEnd";e.addEventListener(i,(function(){n()}))}))}(g,(function(){c(p,d)})):setTimeout((function(){c(p,d)}),s));"loading"==r&&0!==s&&setTimeout((function(){c(p,d)}),s);e.children.length||document.body.appendChild(e);if(e.appendChild(p),t(p,{height:p.offsetHeight+"px"}),setTimeout((function(){!function(e,n){var t=e.className||"";if(i(t,n)){var o=t.split(/\s+/),r=o.indexOf(n);o.splice(r,1),e.className=o.join(" ")}""===e.className&&e.removeAttribute("class")}(p.children[0],"dream-msg-fade-in")}),300),"loading"==r)return function(){c(p,d)}}(f)}function a(e){return e?'\n    <svg class="dream-msg-close" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5514"><path d="M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z" p-id="5515"></path></svg>\n    ':'<svg class="dream-msg-progress" viewBox="0 0 33.83098862 33.83098862" xmlns="http://www.w3.org/2000/svg">\n    <circle class="dream-msg__background" cx="16.9" cy="16.9" r="15.9"></circle>\n    <circle class="dream-msg__circle" stroke-dasharray="100,100" cx="16.9" cy="16.9" r="15.9"></circle>\n    </svg>\n    '}function c(n,o){n&&(t(n,{padding:0,height:0}),function(e,n){var t=e.className||"";if(!i(t,n)){var o=t.split(/\s+/);o.push(n),e.className=o.join(" ")}}(n.children[0],"dream-msg-fade-out"),o&&o(),setTimeout((function(){if(n){for(var t=!1,i=0;i<e.children.length;i++)e.children[i]===n&&(t=!0);t&&f(n),n=null,e.children.length||t&&f(e)}}),300))}function f(e){e&&e.parentNode.removeChild(e)}return r}));